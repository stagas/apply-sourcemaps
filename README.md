<h1>
apply-sourcemaps <a href="https://npmjs.org/package/apply-sourcemaps"><img src="https://img.shields.io/badge/npm-v1.1.1-F00.svg?colorA=000"/></a> <a href="src"><img src="https://img.shields.io/badge/loc-238-FFF.svg?colorA=000"/></a> <a href="https://cdn.jsdelivr.net/npm/apply-sourcemaps@1.1.1/dist/apply-sourcemaps.min.js"><img src="https://img.shields.io/badge/brotli-85K-333.svg?colorA=000"/></a> <a href="LICENSE"><img src="https://img.shields.io/badge/license-MIT-F0B.svg?colorA=000"/></a>
</h1>

<p></p>

Fetch and apply sourcemaps in logs and stack traces originating from the browser or puppeteer.

<h4>
<table><tr><td title="Triple click to select and copy paste">
<code>npm i apply-sourcemaps </code>
</td><td title="Triple click to select and copy paste">
<code>pnpm add apply-sourcemaps </code>
</td><td title="Triple click to select and copy paste">
<code>yarn add apply-sourcemaps</code>
</td></tr></table>
</h4>

## API

<p>  <details id="Sources$11" title="Interface" ><summary><span><a href="#Sources$11">#</a></span>  <code><strong>Sources</strong></code>    </summary>  <a href="src/fetch-source-map.ts#L11">src/fetch-source-map.ts#L11</a>  <ul>        <p>  <details id="source$12" title="Property" ><summary><span><a href="#source$12">#</a></span>  <code><strong>source</strong></code>    </summary>  <a href="src/fetch-source-map.ts#L12">src/fetch-source-map.ts#L12</a>  <ul><p>string</p>        </ul></details><details id="sourceMap$13" title="Property" ><summary><span><a href="#sourceMap$13">#</a></span>  <code><strong>sourceMap</strong></code>    </summary>  <a href="src/fetch-source-map.ts#L13">src/fetch-source-map.ts#L13</a>  <ul><p>{<p>  <details id="sourcemap$15" title="Property" ><summary><span><a href="#sourcemap$15">#</a></span>  <code><strong>sourcemap</strong></code>    </summary>  <a href="src/fetch-source-map.ts#L14">src/fetch-source-map.ts#L14</a>  <ul><p>undefined | <span>RawSourceMap</span></p>        </ul></details></p>}</p>        </ul></details></p></ul></details><details id="sourceMaps$10" title="Variable" ><summary><span><a href="#sourceMaps$10">#</a></span>  <code><strong>sourceMaps</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>  <a href="src/fetch-source-map.ts#L9">src/fetch-source-map.ts#L9</a>  <ul><p><span>Map</span>&lt;string, <span>Promise</span>&lt;undefined | <a href="#Sources$11">Sources</a>&gt;&gt;</p>        </ul></details><details id="applySourceMaps$5" title="Function" ><summary><span><a href="#applySourceMaps$5">#</a></span>  <code><strong>applySourceMaps</strong></code><em>(x, root, href)</em>    </summary>  <a href="src/apply-sourcemaps.ts#L14">src/apply-sourcemaps.ts#L14</a>  <ul>    <p>    <details id="x$7" title="Parameter" ><summary><span><a href="#x$7">#</a></span>  <code><strong>x</strong></code>    </summary>    <ul><p>string</p>        </ul></details><details id="root$8" title="Parameter" ><summary><span><a href="#root$8">#</a></span>  <code><strong>root</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>    <ul><p>string</p>        </ul></details><details id="href$9" title="Parameter" ><summary><span><a href="#href$9">#</a></span>  <code><strong>href</strong></code>    </summary>    <ul><p>string</p>        </ul></details>  <p><strong>applySourceMaps</strong><em>(x, root, href)</em>  &nbsp;=&gt;  <ul><span>Promise</span>&lt;string&gt;</ul></p></p>    </ul></details><details id="fetchSourceMap$16" title="Function" ><summary><span><a href="#fetchSourceMap$16">#</a></span>  <code><strong>fetchSourceMap</strong></code><em>(url)</em>    </summary>  <a href="src/fetch-source-map.ts#L22">src/fetch-source-map.ts#L22</a>  <ul>    <p>    <details id="url$18" title="Parameter" ><summary><span><a href="#url$18">#</a></span>  <code><strong>url</strong></code>    </summary>    <ul><p>string</p>        </ul></details>  <p><strong>fetchSourceMap</strong><em>(url)</em>  &nbsp;=&gt;  <ul><span>Promise</span>&lt;undefined | <a href="#Sources$11">Sources</a>&gt;</ul></p></p>    </ul></details><details id="getCodeFrame$19" title="Function" ><summary><span><a href="#getCodeFrame$19">#</a></span>  <code><strong>getCodeFrame</strong></code><em>(message, { column, line, originalUrl, url })</em>    </summary>  <a href="src/get-code-frame.ts#L4">src/get-code-frame.ts#L4</a>  <ul>    <p>    <details id="message$21" title="Parameter" ><summary><span><a href="#message$21">#</a></span>  <code><strong>message</strong></code>    </summary>    <ul><p>string</p>        </ul></details>{<p>  <details id="column$27" title="Property" ><summary><span><a href="#column$27">#</a></span>  <code><strong>column</strong></code>    </summary>  <a href="src/get-code-frame.ts#L6">src/get-code-frame.ts#L6</a>  <ul><p>string | number</p>        </ul></details><details id="line$26" title="Property" ><summary><span><a href="#line$26">#</a></span>  <code><strong>line</strong></code>    </summary>  <a href="src/get-code-frame.ts#L6">src/get-code-frame.ts#L6</a>  <ul><p>string | number</p>        </ul></details><details id="originalUrl$24" title="Property" ><summary><span><a href="#originalUrl$24">#</a></span>  <code><strong>originalUrl</strong></code>    </summary>  <a href="src/get-code-frame.ts#L6">src/get-code-frame.ts#L6</a>  <ul><p>string</p>        </ul></details><details id="url$25" title="Property" ><summary><span><a href="#url$25">#</a></span>  <code><strong>url</strong></code>    </summary>  <a href="src/get-code-frame.ts#L6">src/get-code-frame.ts#L6</a>  <ul><p>string</p>        </ul></details></p>}  <p><strong>getCodeFrame</strong><em>(message, { column, line, originalUrl, url })</em>  &nbsp;=&gt;  <ul><span>Promise</span>&lt;undefined | string&gt;</ul></p></p>    </ul></details><details id="getRealLocationFromUrlLineCol$28" title="Function" ><summary><span><a href="#getRealLocationFromUrlLineCol$28">#</a></span>  <code><strong>getRealLocationFromUrlLineCol</strong></code><em>({ column, line, originalUrl, url }, { href, root })</em>    </summary>  <a href="src/get-real-location-from-line-col.ts#L6">src/get-real-location-from-line-col.ts#L6</a>  <ul>    <p>    {<p>  <details id="column$35" title="Property" ><summary><span><a href="#column$35">#</a></span>  <code><strong>column</strong></code>    </summary>  <a href="src/get-real-location-from-line-col.ts#L11">src/get-real-location-from-line-col.ts#L11</a>  <ul><p>string | number</p>        </ul></details><details id="line$34" title="Property" ><summary><span><a href="#line$34">#</a></span>  <code><strong>line</strong></code>    </summary>  <a href="src/get-real-location-from-line-col.ts#L10">src/get-real-location-from-line-col.ts#L10</a>  <ul><p>string | number</p>        </ul></details><details id="originalUrl$32" title="Property" ><summary><span><a href="#originalUrl$32">#</a></span>  <code><strong>originalUrl</strong></code>    </summary>  <a href="src/get-real-location-from-line-col.ts#L8">src/get-real-location-from-line-col.ts#L8</a>  <ul><p>string</p>        </ul></details><details id="url$33" title="Property" ><summary><span><a href="#url$33">#</a></span>  <code><strong>url</strong></code>    </summary>  <a href="src/get-real-location-from-line-col.ts#L9">src/get-real-location-from-line-col.ts#L9</a>  <ul><p>string</p>        </ul></details></p>}{<p>  <details id="href$39" title="Property" ><summary><span><a href="#href$39">#</a></span>  <code><strong>href</strong></code>    </summary>  <a href="src/get-real-location-from-line-col.ts#L13">src/get-real-location-from-line-col.ts#L13</a>  <ul><p>string</p>        </ul></details><details id="root$38" title="Property" ><summary><span><a href="#root$38">#</a></span>  <code><strong>root</strong></code>    </summary>  <a href="src/get-real-location-from-line-col.ts#L13">src/get-real-location-from-line-col.ts#L13</a>  <ul><p>string</p>        </ul></details></p>}  <p><strong>getRealLocationFromUrlLineCol</strong><em>({ column, line, originalUrl, url }, { href, root })</em>  &nbsp;=&gt;  <ul><span>Promise</span>&lt;undefined | {<p>  <details id="column$44" title="Property" ><summary><span><a href="#column$44">#</a></span>  <code><strong>column</strong></code>    </summary>  <a href="src/get-real-location-from-line-col.ts#L27">src/get-real-location-from-line-col.ts#L27</a>  <ul><p>number</p>        </ul></details><details id="line$43" title="Property" ><summary><span><a href="#line$43">#</a></span>  <code><strong>line</strong></code>    </summary>  <a href="src/get-real-location-from-line-col.ts#L26">src/get-real-location-from-line-col.ts#L26</a>  <ul><p>number</p>        </ul></details><details id="originalUrl$41" title="Property" ><summary><span><a href="#originalUrl$41">#</a></span>  <code><strong>originalUrl</strong></code>    </summary>  <a href="src/get-real-location-from-line-col.ts#L24">src/get-real-location-from-line-col.ts#L24</a>  <ul><p>string</p>        </ul></details><details id="url$42" title="Property" ><summary><span><a href="#url$42">#</a></span>  <code><strong>url</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>  <a href="src/get-real-location-from-line-col.ts#L25">src/get-real-location-from-line-col.ts#L25</a>  <ul><p>string</p>        </ul></details></p>}&gt;</ul></p></p>    </ul></details><details id="getSourceMap$45" title="Function" ><summary><span><a href="#getSourceMap$45">#</a></span>  <code><strong>getSourceMap</strong></code><em>(url, content)</em>    </summary>  <a href="src/get-source-map.ts#L8">src/get-source-map.ts#L8</a>  <ul>    <p>    <details id="url$47" title="Parameter" ><summary><span><a href="#url$47">#</a></span>  <code><strong>url</strong></code>    </summary>    <ul><p>string</p>        </ul></details><details id="content$48" title="Parameter" ><summary><span><a href="#content$48">#</a></span>  <code><strong>content</strong></code>    </summary>    <ul><p>string</p>        </ul></details>  <p><strong>getSourceMap</strong><em>(url, content)</em>  &nbsp;=&gt;  <ul><span>Promise</span>&lt;undefined | <span>RawSourceMap</span>&gt;</ul></p></p>    </ul></details><details id="log$1" title="Function" ><summary><span><a href="#log$1">#</a></span>  <code><strong>log</strong></code><em>(formatter, args)</em>    </summary>  <a href="src/apply-sourcemaps.ts#L5">src/apply-sourcemaps.ts#L5</a>  <ul>    <p>    <details id="formatter$3" title="Parameter" ><summary><span><a href="#formatter$3">#</a></span>  <code><strong>formatter</strong></code>    </summary>    <ul><p>any</p>        </ul></details><details id="args$4" title="Parameter" ><summary><span><a href="#args$4">#</a></span>  <code><strong>args</strong></code>    </summary>    <ul><p>any  []</p>        </ul></details>  <p><strong>log</strong><em>(formatter, args)</em>  &nbsp;=&gt;  <ul>void</ul></p></p>    </ul></details><details id="parseUrls$49" title="Function" ><summary><span><a href="#parseUrls$49">#</a></span>  <code><strong>parseUrls</strong></code><em>(x)</em>    </summary>  <a href="src/parse-urls.ts#L5">src/parse-urls.ts#L5</a>  <ul>    <p>    <details id="x$51" title="Parameter" ><summary><span><a href="#x$51">#</a></span>  <code><strong>x</strong></code>    </summary>    <ul><p>string</p>        </ul></details>  <p><strong>parseUrls</strong><em>(x)</em>  &nbsp;=&gt;  <ul>{<p>  <details id="column$56" title="Property" ><summary><span><a href="#column$56">#</a></span>  <code><strong>column</strong></code>    </summary>  <a href="src/parse-urls.ts#L14">src/parse-urls.ts#L14</a>  <ul><p>string</p>        </ul></details><details id="line$55" title="Property" ><summary><span><a href="#line$55">#</a></span>  <code><strong>line</strong></code>    </summary>  <a href="src/parse-urls.ts#L13">src/parse-urls.ts#L13</a>  <ul><p>string</p>        </ul></details><details id="originalUrl$53" title="Property" ><summary><span><a href="#originalUrl$53">#</a></span>  <code><strong>originalUrl</strong></code>    </summary>  <a href="src/parse-urls.ts#L11">src/parse-urls.ts#L11</a>  <ul><p>string</p>        </ul></details><details id="url$54" title="Property" ><summary><span><a href="#url$54">#</a></span>  <code><strong>url</strong></code>  <span><span>&nbsp;=&nbsp;</span>  <code>...</code></span>  </summary>  <a href="src/parse-urls.ts#L12">src/parse-urls.ts#L12</a>  <ul><p>string</p>        </ul></details></p>}  []</ul></p></p>    </ul></details></p>

## Credits

- [@babel/code-frame](https://npmjs.org/package/@babel/code-frame) by [The Babel Team](https://babel.dev/team) &ndash; Generate errors that contain a code frame that point to source locations.
- [annotate-code](https://npmjs.org/package/annotate-code) by [stagas](https://github.com/stagas) &ndash; beautifully annotate source code with a message, given an index, like a parser or compiler
- [convert-source-map](https://npmjs.org/package/convert-source-map) by [Thorsten Lorenz](http://thlorenz.com) &ndash; Converts a source-map from/to different formats and allows adding/changing properties.
- [debug](https://npmjs.org/package/debug) by [Josh Junon](https://github.com/debug-js) &ndash; Lightweight debugging utility for Node.js and the browser
- [event-toolkit](https://npmjs.org/package/event-toolkit) by [stagas](https://github.com/stagas) &ndash; Toolkit for DOM events.
- [everyday-node](https://npmjs.org/package/everyday-node) by [stagas](https://github.com/stagas) &ndash; Everyday node utilities.
- [fetch-h2](https://npmjs.org/package/fetch-h2) by [Gustaf Räntilä](https://github.com/grantila) &ndash; HTTP/1+2 Fetch API client for Node.js
- [path-browserify](https://npmjs.org/package/path-browserify) by [James Halliday](http://substack.net) &ndash; the path module from node core for browsers
- [source-map](https://npmjs.org/package/source-map) by [Nick Fitzgerald](https://github.com/mozilla) &ndash; Generates and consumes source maps

## Contributing

[Fork](https://github.com/stagas/apply-sourcemaps/fork) or [edit](https://github.dev/stagas/apply-sourcemaps) and submit a PR.

All contributions are welcome!

## License

<a href="LICENSE">MIT</a> &copy; 2022 [stagas](https://github.com/stagas)
